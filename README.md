# Bootstrap Button API

## Technologies Used

This API is built using Express on node.js for its server. It uses MongoDB as its NoSQL database. Mongoose is used by Express for object data modelling.

## Approach
To develop this API, I had a choice between Rails and Express. Since I used Rails to create a similar API on an earlier project and had worked as team lead and helping with the front end on our team project, I chose Express. Another reason for this choice was that the primary data object for each Bootstrap theme is an array of data objects that would work well in MongoDB.

I create a data model based on my wireframes and the attributes of a Bootstrap LESS variable. This model was used to create schemas and corresponding routes and controllers. These were tested with CURL scripts to validate CRUD functionality for user authentication and theme objects.

Once the server was stable, it was deployed to the production environment for testing against the deployed client. Aside from a few minor updates, the API complete and stable at the beginning of the project. This resulted in few API related issues during development of the client.

## Project Links

- **Deployed Client:** https://pjliddy.github.io/bootstrap-button-client/

- **Deployed API:** https://bootstrap-button.herokuapp.com/
-
- **Client GitHub Repository:** https://github.com/pjliddy/bootstrap-button-client/

- **API GitHub Repository** (this one): https://github.com/pjliddy/bootstrap-button-server/



## Theme Object

The theme object stores information about the user's custom Bootstrap theme. The theme consists primarily of the theme name and an array of theme variable objects. These are the variables and their respective values that LESS uses to compile a Bootstrap theme.

### Data Model

Each theme object is composed of name-value pairs for:

- `_id`: unique ID auto-generated by Mongoose/MongoDB
- `name`: user-generated name for the theme.
- `vars`: an array of theme variable objects. Each theme variable object has five properties:
  - `category`: the top level category for organizing and displaying variables. Categories for the button-specific variables are: Core, Geometry, Type, and Button
  - `subcategory`: each category is broken down into 2-8 subcategories to allow for hierarchical display
  - `variable`: the Bootstrap SASS variable name (including the `@` prefix)
  - `type`: the type of variable. Each variable type will have a specific UI and validation. Types include:
    - `color`: hex value for MVP; ideally, include rgb and rgba formats as well
    - `attribute`: a list of preset attributes for certain CSS values (cursor, font-weight, link-hover-decoration)
    - `font-family`: a list of font families; could be an attribute list or leverage Google Fonts API to display list of available fonts and access them(?)
    - `line-height`: a floating point value without units used for type styles
    - `size`: a number with units (px, em, %)
  - `value`: the literal value used by SASS. Values can be:
    - **_value_**: actual CSS value _("#ffffff" or "16px")_
    - **_variable_**: another SASS variable _("$font-family-base")_
    - **_function_**: a SASS function _("darken(#428bca, 6.5%)")_

```json
{
  "_id": "XXXX",
  "name": "default",
  "vars":
  [
   {
     "category": "Core",
     "subcategory": "Brand Colors",
     "variable": "$brand-primary",
     "type": "color",
     "value": "darken(#428bca, 6.5%)"
   },
   {
     "category": "Geometry",
     "subcategory": "Border Radius",
     "variable": "$border-radius-base",
     "type": "size",
     "value": "4px"
   },
   {
     "category": "Type",
     "subcategory": "Font Family",
     "variable": "$font-family-sans-serif",
     "type": "font-family",
     "value": "\"Helvetica Neue\", Helvetica, Arial, sans-serif"
   },
   {
     "category": "Button",
     "subcategory": "Core",
     "variable": "$btn-font-weight",
     "type": "attribute",
     "value": "normal"
   }
 ]
}
```

## Routes

### User Routes

| Verb   | URI Pattern            | Controller#Action |
|--------|------------------------|-------------------|
| POST   | `/sign-up`             | `users#signup`    |
| POST   | `/sign-in`             | `users#signin`    |
| PATCH  | `/change-password/:id` | `users#changepw`  |
| DELETE | `/sign-out/:id`        | `users#signout`   |

### Theme routes

| Verb   | URI Pattern            | Controller#Action |
|--------|------------------------|-------------------|
| GET    | `/themes`              | `themes#index`    |
| GET    | `/themes/:id`          | `themes#show`     |
| POST   | `/themes`              | `themes#create`   |
| PATCH  | `/themes/:id`          | `themes#update`   |
| DELETE | `/themes/:id`          | `themes#destroy`  |


## Dependencies

This API server has no additional dependencies.

## Challenges

Creating the API presented no major challenges beyond it being my first ground-up Express project.

The one feature I wanted to implement that did not get included is to break down the array of variable objects into individual documents with their own schema. The current approach works but having variable objects as their own model would allow for more flexibility in the future.
